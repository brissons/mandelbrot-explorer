{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\scott\\\\IntelliJ\\\\MandelbrotApp\\\\src\\\\Fractal.js\";\nimport React from \"react\";\nimport \"./styles.css\";\nimport IntroOverlay from \"./IntroOverlay.js\";\nimport Scale from \"./Scale.js\";\n\nclass Fractal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = e => {\n      if (!this.state.loading) {\n        const canvas = this.refs.canvas;\n        let rect = canvas.getBoundingClientRect();\n        let realWidth = rect.width / rect.height < 4 / 3 ? rect.height * 4 / 3 : rect.width;\n        let realHeight = rect.width / rect.height > 4 / 3 ? rect.width * 3 / 4 : rect.height;\n        let scaleX = canvas.width / realWidth;\n        let scaleY = canvas.height / realHeight;\n        let newX = (e.clientX - rect.width / 2 + realWidth / 2 - rect.left) * scaleX;\n        let newY = (e.clientY - rect.height / 2 + realHeight / 2 - rect.top) * scaleY;\n        this.setState(prevState => {\n          return {\n            x: prevState.x + (newX - this.state.width / 2) / this.state.scale,\n            y: prevState.y + (newY - this.state.height / 2) / this.state.scale,\n            i: prevState.i += 5,\n            scale: prevState.scale *= 2,\n            loading: true\n          };\n        });\n        this.refs.scale.classList.remove(\"fadeOutStay\");\n        this.refs.scale.classList.add(\"visible\");\n      }\n    };\n\n    this.state = {\n      width: 1920,\n      height: 1440,\n      x: 960 - 50,\n      y: 720,\n      scale: 1,\n      i: 50,\n      intro: true,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    let canvas = this.refs.canvas;\n    let ctx = this.refs.canvas.getContext(\"2d\");\n    let ctxTwo = this.refs.canvasTwo.getContext(\"2d\");\n    let img = this.refs.image;\n\n    img.onload = () => {\n      canvas.classList.remove(\"visible\");\n      ctxTwo.drawImage(img, 0, 0);\n      canvas.classList.add(\"fadeOut\");\n      setTimeout(function () {\n        ctx.drawImage(img, 0, 0);\n        canvas.classList.remove(\"fadeOut\");\n        canvas.classList.add(\"visible\");\n      }, 500);\n      this.setState({\n        loading: false\n      });\n\n      if (!this.state.intro) {\n        this.refs.scale.classList.remove(\"visible\");\n        this.refs.scale.classList.add(\"fadeOutStay\");\n      }\n    };\n  }\n\n  removeIntro() {\n    if (!this.state.loading) {\n      this.setState({\n        intro: false\n      });\n    }\n  }\n\n  calculateScaleText() {\n    return this.state.scale < 10000 ? this.state.scale : Number.parseFloat(this.state.scale).toExponential(1);\n  }\n\n  render() {\n    var url = \"http://localhost:8080/mandelbrot?\" + \"width=\" + this.state.width + \"&height=\" + this.state.height + \"&x=\" + this.state.x + \"&y=\" + this.state.y + \"&scale=\" + this.state.scale + \"&i=\" + this.state.i;\n    console.log(url);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 12\n      }\n    }, \" \", /*#__PURE__*/React.createElement(IntroOverlay, {\n      intro: this.state.intro,\n      loaded: !this.state.loading,\n      onClick: this.removeIntro.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"scale\",\n      className: \"centerContainer overlay\",\n      style: {\n        zIndex: 3,\n        opacity: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Scale, {\n      scale: this.calculateScaleText(),\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"canvas\", {\n      ref: \"canvas\",\n      className: \"center\",\n      style: {\n        zIndex: \"1\"\n      },\n      width: this.state.width,\n      height: this.state.height,\n      onClick: this.handleClick.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"canvas\", {\n      ref: \"canvasTwo\",\n      className: \"center\",\n      width: this.state.width,\n      height: this.state.height,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      ref: \"image\",\n      src: url,\n      alt: \"new\",\n      style: {\n        display: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), \" ; \");\n  }\n\n}\n\nexport default Fractal;","map":{"version":3,"sources":["C:/Users/scott/IntelliJ/MandelbrotApp/src/Fractal.js"],"names":["React","IntroOverlay","Scale","Fractal","Component","constructor","props","handleClick","e","state","loading","canvas","refs","rect","getBoundingClientRect","realWidth","width","height","realHeight","scaleX","scaleY","newX","clientX","left","newY","clientY","top","setState","prevState","x","scale","y","i","classList","remove","add","intro","componentDidMount","ctx","getContext","ctxTwo","canvasTwo","img","image","onload","drawImage","setTimeout","removeIntro","calculateScaleText","Number","parseFloat","toExponential","render","url","console","log","bind","zIndex","opacity","display"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./styles.css\";\r\nimport IntroOverlay from \"./IntroOverlay.js\";\r\nimport Scale from \"./Scale.js\";\r\nclass Fractal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\twidth: 1920,\r\n\t\t\theight: 1440,\r\n\t\t\tx: (960 - 50),\r\n\t\t\ty: 720,\r\n\t\t\tscale: 1,\r\n\t\t\ti: 50,\r\n\t\t\tintro: true,\r\n\t\t\tloading: true,\r\n\t\t};\r\n\t}\r\n\thandleClick = (e) => {\r\n\t\tif (!this.state.loading) {\r\n\t\t\tconst canvas = this.refs.canvas;\r\n\t\t\tlet rect = canvas.getBoundingClientRect();\r\n\t\t\tlet realWidth = rect.width / rect.height < 4 / 3 ? ((rect.height * 4) / 3) : rect.width;\r\n\t\t\tlet realHeight = rect.width / rect.height > 4 / 3 ? ((rect.width * 3) / 4) : rect.height;\r\n\t\t\tlet scaleX = canvas.width / realWidth;\r\n\t\t\tlet scaleY = canvas.height / realHeight;\r\n\t\t\tlet newX = (e.clientX - (rect.width / 2) + realWidth / 2 - rect.left) * scaleX;\r\n\t\t\tlet newY = (e.clientY - (rect.height / 2) + realHeight / 2 - rect.top) * scaleY;\r\n\t\t\tthis.setState((prevState) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: prevState.x + (newX - this.state.width / 2) / this.state.scale,\r\n\t\t\t\t\ty: prevState.y + (newY - this.state.height / 2) / this.state.scale,\r\n\t\t\t\t\ti: prevState.i += 5,\r\n\t\t\t\t\tscale: prevState.scale *= 2,\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t\tthis.refs.scale.classList.remove(\"fadeOutStay\");\r\n\t\t\tthis.refs.scale.classList.add(\"visible\");\r\n\t\t}\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tlet canvas = this.refs.canvas;\r\n\t\tlet ctx = this.refs.canvas.getContext(\"2d\");\r\n\t\tlet ctxTwo = this.refs.canvasTwo.getContext(\"2d\");\r\n\t\tlet img = this.refs.image;\r\n\t\timg.onload = () => {\r\n\t\t\tcanvas.classList.remove(\"visible\");\r\n\t\t\tctxTwo.drawImage(img, 0, 0);\r\n\t\t\tcanvas.classList.add(\"fadeOut\");\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tctx.drawImage(img, 0, 0);\r\n\t\t\t\tcanvas.classList.remove(\"fadeOut\");\r\n\t\t\t\tcanvas.classList.add(\"visible\");\r\n\t\t\t}, 500);\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: false\r\n\t\t\t});\r\n\t\t\tif (!this.state.intro) {\r\n\t\t\t\tthis.refs.scale.classList.remove(\"visible\");\r\n\t\t\t\tthis.refs.scale.classList.add(\"fadeOutStay\");\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tremoveIntro() {\r\n\t\tif (!this.state.loading) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tintro: false\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tcalculateScaleText() {\r\n\t\treturn (this.state.scale < 10000) ? this.state.scale : Number.parseFloat(this.state.scale).toExponential(1);\r\n\t}\r\n\trender() {\r\n\t\tvar url = \"http://localhost:8080/mandelbrot?\" + \"width=\" + this.state.width + \"&height=\" + this.state.height + \"&x=\" + this.state.x + \"&y=\" + this.state.y + \"&scale=\" + this.state.scale + \"&i=\" + this.state.i;\r\n\t\tconsole.log(url);\r\n\t\treturn ( < React.Fragment > < IntroOverlay intro = {\r\n\t\t\t\t\tthis.state.intro\r\n\t\t\t\t}\r\n\t\t\t\tloaded = {\r\n\t\t\t\t\t!this.state.loading\r\n\t\t\t\t}\r\n\t\t\t\tonClick = {\r\n\t\t\t\t\tthis.removeIntro.bind(this)\r\n\t\t\t\t}\r\n\t\t\t\t/>\r\n        <div\r\n          ref=\"scale\"\r\n          className={\"centerContainer overlay\"}\r\n          style={{ zIndex: 3, opacity: 0 }}\r\n        >\r\n          <Scale scale={this.calculateScaleText()} className={\"center\"} / > < /div>\r\n        <canvas\r\n          ref=\"canvas\"\r\n          className=\"center\"\r\n          style={{ zIndex: \"1\" }}\r\n          width={this.state.width}\r\n          height={this.state.height}\r\n          onClick={this.handleClick.bind(this)}\r\n        / > < canvas ref = \"canvasTwo\"\r\n\t\t\t\tclassName = \"center\"\r\n\t\t\t\twidth = {\r\n\t\t\t\t\tthis.state.width\r\n\t\t\t\t}\r\n\t\t\t\theight = {\r\n\t\t\t\t\tthis.state.height\r\n\t\t\t\t}\r\n\t\t\t\t/>\r\n        <img ref=\"image\" src={url} alt=\"new\" style={{ display: \"none\" }} / > ; < /React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Fractal;"]},"metadata":{},"sourceType":"module"}